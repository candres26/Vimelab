{% extends "ScontrolBundle::layout.html.twig" %}

{% block title %} Antecedentes {% endblock %}

{% block includes %}
	<link href="{{ asset('bundles/scontrol/css/ante.css') }}" rel="stylesheet" type="text/css" />
	<script type="text/javascript" src="{{ asset('bundles/scontrol/js/ante.js') }}">/*--- Include ---*/</script>
{% endblock %}

{% block area %}

<div class="csMain">
		
	<div id="jsPaci" class="csPaci" title="Click Para Cargar">
		<table>
			<tr>
				<th>Paciente:</th><td id="jsPaciName"><!-- AJAX --></td>
				<th>Identificaci√≥n:</th><td id="jsPaciDocu"><!-- AJAX --></td>
			</tr>
			<tr>
				<th>Sexo:</th><td id="jsPaciSexo"><!-- AJAX --></td>
				<th>Nacimiento:</th><td id="jsPaciNaci"><!-- AJAX --></td>
			</tr>
			<tr>
				<th>P. Trabajo:</th><td id="jsPaciPtra"><!-- AJAX --></td>
				<th>Sucursal:</th><td id="jsPaciSucu"><!-- AJAX --></td>
			</tr>
		</table>
	</div>

</div>

<!--- Vista Parcial General -->
<div id="jsGenPar" class="csPar">
	
	<table class="csParTi">
		<tr><th id="jsGenTi"><!-- JS --></th><td id="jsGenCx" title="Cerrar"><!-- Cerrar --></td></tr>
	</table>
		
	<div class="csParIn">
		
		<!--- Controles para buscar y seleccionar paciente -->
		<div id='dvPaci' class='dvHide'>
			<div id="jsPaciSc" class="csParSc">
				<table>
					<tr>
						<th><input id="jsPaciScCam" type="text" size="70"/></th>
						<td><img id="jsPaciScBsr" src="{{ asset('bundles/scontrol/imagenes/applet.png') }}" title="Buscar"></td>
						<td><img id="jsPaciScBnw" src="{{ asset('bundles/scontrol/imagenes/iconos/agregar.png') }}" title="Crear Paciente"></td>
					</tr>
				</table>
			</div>
			<div id="jsPaciZn" class="csParZn"><!-- AJAX --></div>
		</div>
		
		<!--- Controles Del Iframe -->
		
		<div id='dvIfra' class="dvHide">
			<iframe id="ifGen" class="csIfra"><!-- FRAME --></iframe>
			
			<div id="ifGenBar" class="csParBb">
				<button id="jsGenOk">CREAR</button>
				<button id="jsGenCn">CANCELAR</button>
			</div>
		</div>
		
	</div>
	
</div>

{% endblock %}



{% block uscript %}

	<script type="text/javascript">
				
		/* -- RUTAS -- */
		$_newPaci = "{{ path('mdpaci_new', { 'lv': 2 }) }}";
		$_getPaci = "{{ path('as_ante_getPaci') }}";
		
		function $init()
		{
			/* EVENTOS GENERALES */
			gId('ifGen').onload = loadState;
			gId('jsGenCx').onclick = hidePartial;
			gId('jsGenOk').onclick = sendIf;
			gId('jsGenCn').onclick = redoIf;
			
			/* -- EVENTOS DE PACIENTE -- */
			gId('jsPaci').onclick = partialPaci;
			gId('jsPaciScCam').onkeypress = getPaci;
			gId('jsPaciScBsr').onclick = getPaci;
			gId('jsPaciScBnw').onclick = formPaci;
		}
		
	</script>
	
{% endblock %}